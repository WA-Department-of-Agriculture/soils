<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Changelog • soils</title><!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="../favicon-96x96.png"><link rel="icon" type="”image/svg+xml”" href="../favicon.svg"><link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png"><link rel="icon" sizes="any" href="../favicon.ico"><link rel="manifest" href="../site.webmanifest"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/Poppins-0.4.10/font.css" rel="stylesheet"><link href="../deps/Lato-0.4.10/font.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><link href="../extra.css" rel="stylesheet"><meta property="og:title" content="Changelog"><meta property="og:image" content="https://wa-department-of-agriculture.github.io/soils/logo.png"><meta name="robots" content="noindex"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">soils</a>

    <small class="nav-text text-danger me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="In-development version">1.0.1.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../index.html" aria-label="Home"><span class="fa fa-home"></span></a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-primers" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Primers</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-primers"><li><a class="dropdown-item" href="../articles/quarto.html">Quarto</a></li>
    <li><a class="dropdown-item" href="../articles/markdown.html">Markdown</a></li>
  </ul></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-tutorials" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Tutorials</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-tutorials"><li><a class="dropdown-item" href="../articles/project.html">Create a {soils} project</a></li>
    <li><a class="dropdown-item" href="../articles/render-example.html">Render the example reports</a></li>
    <li><a class="dropdown-item" href="../articles/data.html">Import your data</a></li>
    <li><a class="dropdown-item" href="../articles/customize.html">Customize &amp; write</a></li>
    <li><a class="dropdown-item" href="../articles/render.html">Render your reports</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><a class="dropdown-item" href="../articles/troubleshoot.html">Troubleshoot</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../articles/examples.html">Examples</a></li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Functions</a></li>
<li class="active nav-item"><a class="nav-link" href="../news/index.html">News</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/WA-Department-of-Agriculture/soils/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-news">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Changelog</h1>
      <small>Source: <a href="https://github.com/WA-Department-of-Agriculture/soils/blob/main/NEWS.md" class="external-link"><code>NEWS.md</code></a></small>
    </div>

    <div class="section level2">
<h2 class="pkg-version" data-toc-text="development version" id="soils-development-version">soils (development version)<a class="anchor" aria-label="anchor" href="#soils-development-version"></a></h2>
<ul><li><p>Remove <code>field_name</code> as a required column and adjust templates, example data, and vignettes.</p></li>
<li><p><code>01_producer-report.qmd</code> now reads in <code>sample_id</code> and <code>field_id</code> as character type, which fixes unwanted commas in numeric IDs (<a href="https://github.com/WA-Department-of-Agriculture/soils/issues/10" class="external-link">#10</a>).</p></li>
<li><p>Replaced internal <code>testthat</code> checks for missing required columns with a custom cli-based helper, <code>abort_if_missing_cols()</code>, to provide clearer, user-facing error messages (<a href="https://github.com/WA-Department-of-Agriculture/soils/issues/14" class="external-link">#14</a>).</p></li>
<li>
<p><strong>Texture updates</strong>:</p>
<ul><li>
<p>Data upload no longer requires a pre-existing <code>texture</code> column.</p>
<ul><li><p>Added new texture helpers: <code><a href="../reference/validate_texture_fractions.html">validate_texture_fractions()</a></code>, <code><a href="../reference/complete_texture_fractions.html">complete_texture_fractions()</a></code>, and <code><a href="../reference/classify_texture.html">classify_texture()</a></code>. These validate sand, silt, and clay fractions, compute a missing fraction when exactly two are provided, and assign USDA soil texture classes when possible.</p></li>
<li><p>Updated internal helpers and the <code>01_producer-report.qmd</code> template to conditionally compute texture and to synchronize the data dictionary when texture or fractions are added (<a href="https://github.com/WA-Department-of-Agriculture/soils/issues/21" class="external-link">#21</a>).</p></li>
<li><p>Introduced <code><a href="../reference/sync_dictionary_texture.html">sync_dictionary_texture()</a></code> to automatically add missing texture and fraction rows to the dictionary in a fixed order (<code>texture</code>, <code>sand_percent</code>, <code>silt_percent</code>, <code>clay_percent</code>), with support for English and Spanish labels.</p></li>
<li><p>Deprecated <code><a href="../reference/get_n_texture_by_var.html">get_n_texture_by_var()</a></code>; its logic is now handled directly in <code><a href="../reference/summarize_by_var.html">summarize_by_var()</a></code>, which treats texture as optional.</p></li>
</ul></li>
<li><p>Fixed texture triangle rendering to require at least one complete sand, silt, and clay sample. Incomplete texture rows are now dropped early, preventing errors when producer data include partial texture information (<a href="https://github.com/WA-Department-of-Agriculture/soils/issues/15" class="external-link">#15</a>).</p></li>
</ul></li>
<li>
<p><strong>Plot and map updates</strong>:</p>
<ul><li><p><code><a href="../reference/convert_ggiraph.html">convert_ggiraph()</a></code> uses <code><a href="https://davidgohel.github.io/gdtools/reference/font_family_exists.html" class="external-link">gdtools::font_family_exists()</a></code> instead of <code>ggiraph::font_family_exists()</code>, which is no longer exported from <code>ggiraph</code> (<a href="https://github.com/WA-Department-of-Agriculture/soils/issues/12" class="external-link">#12</a>).</p></li>
<li><p>Added <code><a href="../reference/make_static_map.html">make_static_map()</a></code> for creating non-interactive maps using basemap tiles and <code>ggplot2</code> (<a href="https://github.com/WA-Department-of-Agriculture/soils/issues/13" class="external-link">#13</a>). Removed dependency on <code>tidyterra</code> for static map rendering. Basemap tiles are now plotted using <code>ggplot2</code>, improving stability and reducing package dependencies.</p></li>
<li><p>Static maps now request basemap tiles using a buffered bounding box rather than point geometries. This improves robustness for very small or single-point spatial extents and prevents tile grid errors when samples are tightly clustered.</p></li>
<li><p>Renamed <code><a href="../reference/make_leaflet.html">make_leaflet()</a></code> to <code><a href="../reference/make_interactive_map.html">make_interactive_map()</a></code> to provide a more descriptive and consistent naming convention alongside <code><a href="../reference/make_static_map.html">make_static_map()</a></code>. <code><a href="../reference/make_leaflet.html">make_leaflet()</a></code> will be retained for backwards compatibility.</p></li>
</ul></li>
<li>
<p><strong>Measurement handling updates</strong>:</p>
<ul><li><p>Measurements must be quantitative. Modified template to dynamically select measurement columns (based on provided vector of metadata columns) (<a href="https://github.com/WA-Department-of-Agriculture/soils/issues/24" class="external-link">#24</a>) and coerce measurement columns to numeric with new function <code>coerce_to_numeric()</code> (<a href="https://github.com/WA-Department-of-Agriculture/soils/issues/11" class="external-link">#11</a> and <a href="https://github.com/WA-Department-of-Agriculture/soils/issues/26" class="external-link">#26</a>).</p></li>
<li><p>Added a footnote to all tables with new function <code><a href="../reference/add_field_count_note.html">add_field_count_note()</a></code> to clarify that field counts reflect the total samples contributing to each average, which may be fewer than the total samples for some measurements now that qualitative measurements are coerced to numeric.</p></li>
</ul></li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.0.1" id="soils-101">soils 1.0.1<a class="anchor" aria-label="anchor" href="#soils-101"></a></h2>
<ul><li>Pre-calculate zoom for the static map to fix issue when there are less than 4 tiles (<a href="https://github.com/WA-Department-of-Agriculture/dirt-data-reports/issues/110" class="external-link uri">https://github.com/WA-Department-of-Agriculture/dirt-data-reports/issues/110</a>) and switch to World Imagery instead of Street Map.</li>
</ul></div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Jadey N Ryan, Molly McIlquham, Kwabena A Sarpong, Leslie M Michel, Teal S Potter, Deirdre Griffin LaHue, Dani L Gelardi, Washington State Department of Agriculture.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.9000.</p>
</div>

    </footer></div>





  </body></html>

