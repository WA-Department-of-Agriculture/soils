---
title: "New Template Project"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{New Template Project}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

```{r options, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>"
)
```

## Create a Soil Health Report Project

We assume you are working in RStudio Desktop. This workflow has not been tested in other IDEs such as Visual Studio Code.

There are two ways to create the RStudio project.

**Option 1**. `Open RStudio` \> `File` \> `New Project` \> `"Soil Health Quarto Report"`

![RStudio Project Wizard with `Soil Health Quarto Report` selected](images/new_proj_wiz.png)

**Option 2**. In the console, run:

```{r, eval=FALSE}
soils::create_soils(path = "path/to/project")
```

The following should print in your console:

![Output from running `soils::create_soils()` in the RStudio console. `usethis::create_project()` prints the steps to creating the new project directory.](images/create_soils.png)

## Project Structure Overview

Both options will create and launch a new RStudio project with:

1.  `inst` folder containing the Quarto template, child documents, example data, images, and style resources.

2.  `R` folder with R scripts with the source code for most `soils` functions.

<details open>

<summary>Project Structure</summary>

```         
├── inst
│   ├── producer_report.qmd
│   ├── _01_project_summary.qmd
│   ├── _02_soil_health_background.qmd
│   ├── _03_physical_measurements.qmd
│   ├── _04_biological_measurements.qmd
│   ├── _05_chemical_measurements.qmd
│   ├── _06_looking_forward.qmd
│   └── _07_acknowledgement.qmd
│   ├── extdata
│   │   ├── dataDictionary.csv
│   │   ├── dfPlot.csv
│   │   ├── dfTexture.csv
│   │   ├── exampleData.csv
│   │   ├── headers.RDS
│   │   └── tables.RDS
│   ├── images
│   │   ├── biological.png
│   │   ├── chemical.png
│   │   ├── logo.png
│   │   └── physical.png
│   ├── resources
│   │   ├── styles.css
│   │   └── word-template.docx
├── R
│   ├── data_wrangling.R
│   ├── helpers.R
│   ├── map.R
│   ├── plots.R
│   ├── render.R
│   └── tables.R
└── test.Rproj
```

</details>

## Render the Report Template

If you used the RStudio IDE to create the project, the main Quarto template `producer_report.qmd` should automatically open in the new project session. Make sure everything is set up correctly by rendering this template report right out of the package.

If you used `soils::create_soils()`, you will need to open the `inst` folder to access this file in the `Files` pane.

![RStudio Files pane showing .qmd files and resources inside the project \> inst folder](images/files.png){style="max-width:60%"}

Once `producer_report.qmd` is open, click the `Render` button at the top of the file to generate either the `HTML` or `MS Word` report. You can check the `Render on Save` option to automatically update the preview whenever you re-render the document.

![RStudio Quarto Render button with a dropdown for HTML and MS Word. The Render on Save option is checked.](images/render.png){style="max-width:80%"}

Hopefully this rendered the report in the `inst` directory with the file name matching the input `.qmd` name.

To learn how to customize the reports to suit your own project, head over to the article on [Soil Health Reports](https://wa-department-of-agriculture.github.io/soils/articles/report.html).
