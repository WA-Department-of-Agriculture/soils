<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Import your data • soils</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/Poppins-0.4.9/font.css" rel="stylesheet">
<link href="../deps/Lato-0.4.9/font.css" rel="stylesheet">
<link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><link href="../extra.css" rel="stylesheet">
<meta property="og:title" content="Import your data">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">soils</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">1.0.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../index.html" aria-label="Home"><span class="fa fa-home"></span></a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-primers" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Primers</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-primers">
<li><a class="dropdown-item" href="../articles/quarto.html">Quarto</a></li>
    <li><a class="dropdown-item" href="../articles/markdown.html">Markdown</a></li>
  </ul>
</li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-tutorials" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Tutorials</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-tutorials">
<li><a class="dropdown-item" href="../articles/project.html">Create a {soils} project</a></li>
    <li><a class="dropdown-item" href="../articles/render-example.html">Render the example reports</a></li>
    <li><a class="dropdown-item" href="../articles/data.html">Import your data</a></li>
    <li><a class="dropdown-item" href="../articles/customize.html">Customize &amp; write</a></li>
    <li><a class="dropdown-item" href="../articles/render.html">Render your reports</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><a class="dropdown-item" href="../articles/troubleshoot.html">Troubleshoot</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../articles/examples.html">Examples</a></li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Functions</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/WA-Department-of-Agriculture/soils/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Import your data</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/WA-Department-of-Agriculture/soils/blob/main/vignettes/data.Rmd" class="external-link"><code>vignettes/data.Rmd</code></a></small>
      <div class="d-none name"><code>data.Rmd</code></div>
    </div>

    
    
<p>You can immediately install {soils}, create a new template project,
and render example reports, as demonstrated in the last two tutorials.
However, you will need to customize and edit the content to fit your
project, shown in the next three tutorials: <a href="https://wa-department-of-agriculture.github.io/soils/articles/customize.html"><strong>Customize
&amp; write</strong></a>, <a href="https://wa-department-of-agriculture.github.io/soils/articles/render.html"><strong>Render
reports</strong></a>, and <a href="https://wa-department-of-agriculture.github.io/soils/articles/troubleshoot.html"><strong>Troubleshoot</strong></a>.</p>
<div class="section level2">
<h2 id="access-the-example-datasets">Access the example datasets<a class="anchor" aria-label="anchor" href="#access-the-example-datasets"></a>
</h2>
<p>An example dataset and data dictionary are included in every {soils}
project. Access the <code>.csv</code> files in the <code>data</code>
folder, or load the package and call the dataframes by name as shown
below.</p>
<details closed><summary>
Load {soils} and see first five rows of each dataframe
</summary><div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/WA-Department-of-Agriculture/soils" class="external-link">soils</a></span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">washi_data</span>, <span class="fl">5</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html" class="external-link">kable</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<table style="width:100%;" class="table">
<colgroup>
<col width="1%">
<col width="2%">
<col width="2%">
<col width="2%">
<col width="2%">
<col width="1%">
<col width="2%">
<col width="3%">
<col width="2%">
<col width="1%">
<col width="2%">
<col width="1%">
<col width="2%">
<col width="2%">
<col width="2%">
<col width="2%">
<col width="0%">
<col width="2%">
<col width="1%">
<col width="1%">
<col width="1%">
<col width="1%">
<col width="2%">
<col width="1%">
<col width="1%">
<col width="1%">
<col width="1%">
<col width="1%">
<col width="1%">
<col width="3%">
<col width="3%">
<col width="4%">
<col width="2%">
<col width="2%">
<col width="2%">
<col width="4%">
<col width="2%">
<col width="2%">
<col width="2%">
<col width="2%">
<col width="2%">
<col width="4%">
</colgroup>
<thead><tr class="header">
<th align="right">year</th>
<th align="left">sample_id</th>
<th align="left">farm_name</th>
<th align="left">producer_id</th>
<th align="left">field_name</th>
<th align="right">field_id</th>
<th align="left">county</th>
<th align="left">crop</th>
<th align="right">longitude</th>
<th align="right">latitude</th>
<th align="left">texture</th>
<th align="right">bd_g_cm3</th>
<th align="right">pmn_lb_ac</th>
<th align="right">nh4_n_mg_kg</th>
<th align="right">no3_n_mg_kg</th>
<th align="right">poxc_mg_kg</th>
<th align="right">ph</th>
<th align="right">ec_mmhos_cm</th>
<th align="right">k_mg_kg</th>
<th align="right">ca_mg_kg</th>
<th align="right">mg_mg_kg</th>
<th align="right">na_mg_kg</th>
<th align="right">cec_meq_100g</th>
<th align="right">b_mg_kg</th>
<th align="right">cu_mg_kg</th>
<th align="right">fe_mg_kg</th>
<th align="right">mn_mg_kg</th>
<th align="right">s_mg_kg</th>
<th align="right">zn_mg_kg</th>
<th align="right">total_c_percent</th>
<th align="right">total_n_percent</th>
<th align="right">ace_g_protein_kg_soil</th>
<th align="right">sand_percent</th>
<th align="right">silt_percent</th>
<th align="right">clay_percent</th>
<th align="right">min_c_96hr_mg_c_kg_day</th>
<th align="right">p_olsen_mg_kg</th>
<th align="right">wsa_percent</th>
<th align="right">om_percent</th>
<th align="right">toc_percent</th>
<th align="right">whc_in_ft</th>
<th align="right">inorganic_c_percent</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="right">2023</td>
<td align="left">23-WUY05-01</td>
<td align="left">Farm 150</td>
<td align="left">WUY05</td>
<td align="left">Field 01</td>
<td align="right">1</td>
<td align="left">County 9</td>
<td align="left">Hay/Silage</td>
<td align="right">-119</td>
<td align="right">49</td>
<td align="left">Clay Loam</td>
<td align="right">1.30</td>
<td align="right">67.13</td>
<td align="right">1.6</td>
<td align="right">9.2</td>
<td align="right">496</td>
<td align="right">6.7</td>
<td align="right">0.42</td>
<td align="right">498</td>
<td align="right">1380</td>
<td align="right">145.2</td>
<td align="right">16.1</td>
<td align="right">7.8</td>
<td align="right">0.22</td>
<td align="right">0.6</td>
<td align="right">26</td>
<td align="right">1.5</td>
<td align="right">4.29</td>
<td align="right">1.7</td>
<td align="right">1.85</td>
<td align="right">0.16</td>
<td align="right">6.74</td>
<td align="right">44</td>
<td align="right">23</td>
<td align="right">33</td>
<td align="right">35.6</td>
<td align="right">15</td>
<td align="right">88.5</td>
<td align="right">4.5</td>
<td align="right">1.85</td>
<td align="right">1.01</td>
<td align="right">NA</td>
</tr>
<tr class="even">
<td align="right">2022</td>
<td align="left">22-RHM05-02</td>
<td align="left">Farm 085</td>
<td align="left">RHM05</td>
<td align="left">Field 02</td>
<td align="right">2</td>
<td align="left">County 18</td>
<td align="left">Green Manure</td>
<td align="right">-123</td>
<td align="right">47</td>
<td align="left">Sandy Loam</td>
<td align="right">0.88</td>
<td align="right">129.97</td>
<td align="right">21.6</td>
<td align="right">6.1</td>
<td align="right">571</td>
<td align="right">5.9</td>
<td align="right">0.05</td>
<td align="right">198</td>
<td align="right">780</td>
<td align="right">96.8</td>
<td align="right">20.7</td>
<td align="right">10.5</td>
<td align="right">0.09</td>
<td align="right">0.4</td>
<td align="right">28</td>
<td align="right">2.7</td>
<td align="right">9.41</td>
<td align="right">0.8</td>
<td align="right">2.88</td>
<td align="right">0.18</td>
<td align="right">21.50</td>
<td align="right">69</td>
<td align="right">21</td>
<td align="right">10</td>
<td align="right">30.0</td>
<td align="right">37</td>
<td align="right">92.6</td>
<td align="right">5.8</td>
<td align="right">2.88</td>
<td align="right">1.08</td>
<td align="right">NA</td>
</tr>
<tr class="odd">
<td align="right">2022</td>
<td align="left">22-ENR07-02</td>
<td align="left">Farm 058</td>
<td align="left">ENR07</td>
<td align="left">Field 02</td>
<td align="right">2</td>
<td align="left">County 11</td>
<td align="left">Vegetable</td>
<td align="right">-122</td>
<td align="right">47</td>
<td align="left">Silt Loam</td>
<td align="right">1.21</td>
<td align="right">122.17</td>
<td align="right">8.1</td>
<td align="right">25.3</td>
<td align="right">419</td>
<td align="right">6.3</td>
<td align="right">0.60</td>
<td align="right">294</td>
<td align="right">1760</td>
<td align="right">266.2</td>
<td align="right">20.7</td>
<td align="right">13.0</td>
<td align="right">0.41</td>
<td align="right">4.2</td>
<td align="right">141</td>
<td align="right">4.1</td>
<td align="right">26.73</td>
<td align="right">4.2</td>
<td align="right">1.68</td>
<td align="right">0.14</td>
<td align="right">10.90</td>
<td align="right">11</td>
<td align="right">79</td>
<td align="right">10</td>
<td align="right">15.0</td>
<td align="right">73</td>
<td align="right">91.3</td>
<td align="right">2.4</td>
<td align="right">1.68</td>
<td align="right">2.77</td>
<td align="right">NA</td>
</tr>
<tr class="even">
<td align="right">2022</td>
<td align="left">22-ZTD04-03</td>
<td align="left">Farm 061</td>
<td align="left">ZTD04</td>
<td align="left">Field 03</td>
<td align="right">3</td>
<td align="left">County 13</td>
<td align="left">Herb</td>
<td align="right">-120</td>
<td align="right">46</td>
<td align="left">Silt Loam</td>
<td align="right">1.37</td>
<td align="right">95.24</td>
<td align="right">13.8</td>
<td align="right">16.9</td>
<td align="right">424</td>
<td align="right">6.8</td>
<td align="right">2.18</td>
<td align="right">229</td>
<td align="right">3380</td>
<td align="right">738.1</td>
<td align="right">80.5</td>
<td align="right">14.4</td>
<td align="right">0.72</td>
<td align="right">1.1</td>
<td align="right">37</td>
<td align="right">11.5</td>
<td align="right">51.70</td>
<td align="right">2.4</td>
<td align="right">1.40</td>
<td align="right">0.12</td>
<td align="right">5.53</td>
<td align="right">36</td>
<td align="right">51</td>
<td align="right">13</td>
<td align="right">67.5</td>
<td align="right">30</td>
<td align="right">94.3</td>
<td align="right">2.9</td>
<td align="right">1.40</td>
<td align="right">1.93</td>
<td align="right">NA</td>
</tr>
<tr class="odd">
<td align="right">2023</td>
<td align="left">23-WUY05-03</td>
<td align="left">Farm 150</td>
<td align="left">WUY05</td>
<td align="left">Field 03</td>
<td align="right">3</td>
<td align="left">County 9</td>
<td align="left">Pasture, Seeded</td>
<td align="right">-119</td>
<td align="right">49</td>
<td align="left">Sandy Loam</td>
<td align="right">1.22</td>
<td align="right">111.35</td>
<td align="right">3.9</td>
<td align="right">6.7</td>
<td align="right">547</td>
<td align="right">7.6</td>
<td align="right">0.60</td>
<td align="right">273</td>
<td align="right">2820</td>
<td align="right">193.6</td>
<td align="right">13.8</td>
<td align="right">10.1</td>
<td align="right">0.25</td>
<td align="right">0.7</td>
<td align="right">15</td>
<td align="right">1.7</td>
<td align="right">3.29</td>
<td align="right">0.8</td>
<td align="right">1.65</td>
<td align="right">0.16</td>
<td align="right">4.20</td>
<td align="right">64</td>
<td align="right">33</td>
<td align="right">3</td>
<td align="right">50.6</td>
<td align="right">8</td>
<td align="right">84.6</td>
<td align="right">6.7</td>
<td align="right">1.53</td>
<td align="right">1.28</td>
<td align="right">0.12</td>
</tr>
</tbody>
</table>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">data_dictionary</span>, <span class="fl">5</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html" class="external-link">kable</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<table class="table">
<colgroup>
<col width="15%">
<col width="20%">
<col width="19%">
<col width="5%">
<col width="12%">
<col width="8%">
<col width="18%">
</colgroup>
<thead><tr class="header">
<th align="left">measurement_group</th>
<th align="left">measurement_group_label</th>
<th align="left">column_name</th>
<th align="right">order</th>
<th align="left">abbr</th>
<th align="left">unit</th>
<th align="left">abbr_unit</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">biological</td>
<td align="left">Biological</td>
<td align="left">om_percent</td>
<td align="right">1</td>
<td align="left">Organic Matter</td>
<td align="left">%</td>
<td align="left">Organic Matter<br>(%)</td>
</tr>
<tr class="even">
<td align="left">biological</td>
<td align="left">Biological</td>
<td align="left">min_c_96hr_mg_c_kg_day</td>
<td align="right">2</td>
<td align="left">Min C</td>
<td align="left">mg/kg/day</td>
<td align="left">Min C<br>(mg/kg/day)</td>
</tr>
<tr class="odd">
<td align="left">biological</td>
<td align="left">Biological</td>
<td align="left">poxc_mg_kg</td>
<td align="right">3</td>
<td align="left">POXC</td>
<td align="left">ppm</td>
<td align="left">POXC<br>(ppm)</td>
</tr>
<tr class="even">
<td align="left">biological</td>
<td align="left">Biological</td>
<td align="left">pmn_lb_ac</td>
<td align="right">4</td>
<td align="left">PMN</td>
<td align="left">lb/ac</td>
<td align="left">PMN<br>(lb/ac)</td>
</tr>
<tr class="odd">
<td align="left">biological</td>
<td align="left">Biological</td>
<td align="left">ace_g_protein_kg_soil</td>
<td align="right">5</td>
<td align="left">ACE Protein</td>
<td align="left">g/kg</td>
<td align="left">ACE Protein<br>(g/kg)</td>
</tr>
</tbody>
</table></details><p>Use <code>washi_data</code> and <code>data_dictionary</code> as
templates when formatting your own data to use in {soils} functions and
reports.</p>
</div>
<div class="section level2">
<h2 id="data-template">Data template<a class="anchor" aria-label="anchor" href="#data-template"></a>
</h2>
<p>Your data must contain the below required columns and each soil
measurement must be in its own column, as shown in
<code>washi_data</code>.</p>
<details closed><summary>
Glimpse at the example data
</summary><div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://pillar.r-lib.org/reference/glimpse.html" class="external-link">glimpse</a></span><span class="op">(</span><span class="va">washi_data</span><span class="op">)</span></span>
<span><span class="co">#&gt; Rows: 100</span></span>
<span><span class="co">#&gt; Columns: 42</span></span>
<span><span class="co">#&gt; $ year                   <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> 2023, 2022, 2022, 2022, 2023, 2022, 2023, 2022,…</span></span>
<span><span class="co">#&gt; $ sample_id              <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "23-WUY05-01", "22-RHM05-02", "22-ENR07-02", "2…</span></span>
<span><span class="co">#&gt; $ farm_name              <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "Farm 150", "Farm 085", "Farm 058", "Farm 061",…</span></span>
<span><span class="co">#&gt; $ producer_id            <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "WUY05", "RHM05", "ENR07", "ZTD04", "WUY05", "B…</span></span>
<span><span class="co">#&gt; $ field_name             <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "Field 01", "Field 02", "Field 02", "Field 03",…</span></span>
<span><span class="co">#&gt; $ field_id               <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> 1, 2, 2, 3, 3, 2, 1, 2, 1, 1, 1, 1, 2, 8, 2, 1,…</span></span>
<span><span class="co">#&gt; $ county                 <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "County 9", "County 18", "County 11", "County 1…</span></span>
<span><span class="co">#&gt; $ crop                   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "Hay/Silage", "Green Manure", "Vegetable", "Her…</span></span>
<span><span class="co">#&gt; $ longitude              <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> -119, -123, -122, -120, -119, -117, -118, -117,…</span></span>
<span><span class="co">#&gt; $ latitude               <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> 49, 47, 47, 46, 49, 47, 49, 47, 48, 48, 46, 47,…</span></span>
<span><span class="co">#&gt; $ texture                <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "Clay Loam", "Sandy Loam", "Silt Loam", "Silt L…</span></span>
<span><span class="co">#&gt; $ bd_g_cm3               <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> 1.30, 0.88, 1.21, 1.37, 1.22, 1.14, 1.44, 1.24,…</span></span>
<span><span class="co">#&gt; $ pmn_lb_ac              <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> 67.13, 129.97, 122.17, 95.24, 111.35, 61.92, -7…</span></span>
<span><span class="co">#&gt; $ nh4_n_mg_kg            <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> 1.6, 21.6, 8.1, 13.8, 3.9, 12.4, 2.4, 12.4, 2.3…</span></span>
<span><span class="co">#&gt; $ no3_n_mg_kg            <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> 9.2, 6.1, 25.3, 16.9, 6.7, 4.3, 21.5, 7.4, 2.3,…</span></span>
<span><span class="co">#&gt; $ poxc_mg_kg             <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> 496, 571, 419, 424, 547, 235, 501, 480, 965, 10…</span></span>
<span><span class="co">#&gt; $ ph                     <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> 6.7, 5.9, 6.3, 6.8, 7.6, 5.5, 5.5, 5.9, 6.3, 6.…</span></span>
<span><span class="co">#&gt; $ ec_mmhos_cm            <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> 0.42, 0.05, 0.60, 2.18, 0.60, 0.81, 0.55, 0.34,…</span></span>
<span><span class="co">#&gt; $ k_mg_kg                <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> 498, 198, 294, 229, 273, 372, 289, 355, 253, 73…</span></span>
<span><span class="co">#&gt; $ ca_mg_kg               <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> 1380, 780, 1760, 3380, 2820, 1480, 1140, 2080, …</span></span>
<span><span class="co">#&gt; $ mg_mg_kg               <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> 145.2, 96.8, 266.2, 738.1, 193.6, 229.9, 133.1,…</span></span>
<span><span class="co">#&gt; $ na_mg_kg               <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> 16.1, 20.7, 20.7, 80.5, 13.8, 16.1, 23.0, 16.1,…</span></span>
<span><span class="co">#&gt; $ cec_meq_100g           <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> 7.8, 10.5, 13.0, 14.4, 10.1, 12.4, 12.9, 14.8, …</span></span>
<span><span class="co">#&gt; $ b_mg_kg                <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> 0.22, 0.09, 0.41, 0.72, 0.25, 0.18, 0.12, 0.21,…</span></span>
<span><span class="co">#&gt; $ cu_mg_kg               <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> 0.6, 0.4, 4.2, 1.1, 0.7, 1.0, 0.5, 1.4, 1.1, 0.…</span></span>
<span><span class="co">#&gt; $ fe_mg_kg               <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> 26, 28, 141, 37, 15, 64, 44, 85, 129, 31, 86, 3…</span></span>
<span><span class="co">#&gt; $ mn_mg_kg               <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> 1.5, 2.7, 4.1, 11.5, 1.7, 9.0, 4.4, 17.1, 9.9, …</span></span>
<span><span class="co">#&gt; $ s_mg_kg                <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> 4.29, 9.41, 26.73, 51.70, 3.29, 4.51, 9.13, 8.2…</span></span>
<span><span class="co">#&gt; $ zn_mg_kg               <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> 1.7, 0.8, 4.2, 2.4, 0.8, 0.5, 34.0, 0.9, 7.8, 0…</span></span>
<span><span class="co">#&gt; $ total_c_percent        <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> 1.85, 2.88, 1.68, 1.40, 1.65, 1.55, 2.25, 2.37,…</span></span>
<span><span class="co">#&gt; $ total_n_percent        <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> 0.16, 0.18, 0.14, 0.12, 0.16, 0.13, 0.15, 0.17,…</span></span>
<span><span class="co">#&gt; $ ace_g_protein_kg_soil  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> 6.74, 21.50, 10.90, 5.53, 4.20, 10.30, 7.73, 6.…</span></span>
<span><span class="co">#&gt; $ sand_percent           <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> 44, 69, 11, 36, 64, 24, 80, 22, 62, 48, 80, 69,…</span></span>
<span><span class="co">#&gt; $ silt_percent           <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> 23, 21, 79, 51, 33, 62, 16, 57, 26, 45, 14, 27,…</span></span>
<span><span class="co">#&gt; $ clay_percent           <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> 33, 10, 10, 13, 3, 14, 4, 21, 12, 7, 6, 4, 10, …</span></span>
<span><span class="co">#&gt; $ min_c_96hr_mg_c_kg_day <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> 35.60, 30.00, 15.00, 67.50, 50.60, 25.50, 30.60…</span></span>
<span><span class="co">#&gt; $ p_olsen_mg_kg          <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> 15, 37, 73, 30, 8, 33, 27, 29, 40, 16, 19, 11, …</span></span>
<span><span class="co">#&gt; $ wsa_percent            <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> 88.5, 92.6, 91.3, 94.3, 84.6, 86.6, 86.9, 82.5,…</span></span>
<span><span class="co">#&gt; $ om_percent             <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> 4.5, 5.8, 2.4, 2.9, 6.7, 3.2, 27.0, 4.2, 7.9, 5…</span></span>
<span><span class="co">#&gt; $ toc_percent            <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> 1.85, 2.88, 1.68, 1.40, 1.53, 1.55, 2.25, 2.37,…</span></span>
<span><span class="co">#&gt; $ whc_in_ft              <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> 1.01, 1.08, 2.77, 1.93, 1.28, 2.25, 0.84, 2.14,…</span></span>
<span><span class="co">#&gt; $ inorganic_c_percent    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> NA, NA, NA, NA, 0.12, NA, NA, NA, NA, NA, NA, N…</span></span></code></pre></div>
</details><p>Your data <strong>must have the below required columns</strong>.
However, only the columns in <strong>bold</strong> are required to have
values. Put another way, your data must have these column names, even if
every row is blank. Otherwise, the <code>data-validation</code> chunk in
<code>01_producer-report.qmd</code> or {soils} functions will error. For
more details, see <a href="#datadictionary-mismatches">Data/dictionary
mismatches</a>.</p>
<ul>
<li><p><strong><code>year &lt;int&gt;</code></strong> is used to select
samples to be included in the report.</p></li>
<li><p><strong><code>sample_id &lt;chr&gt;</code></strong> must be
unique throughout the dataset.</p></li>
<li><p><code>farm_name &lt;chr&gt;</code> is included at the top of the
report. If blank, it is replaced with “Farm:
<code>producer_id</code>”.</p></li>
<li><p><strong><code>producer_id &lt;chr&gt;</code></strong> is used to
select samples to be included in the report.</p></li>
<li><p><code>field_name &lt;chr&gt;</code> must be unique across all
fields for each producer and is displayed in tables and tool tips for
maps. If blank, it is replaced with “Field
<code>field_id</code>”.</p></li>
<li><p><strong><code>field_id &lt;chr&gt;</code></strong> must be unique
across all fields for each producer.</p></li>
<li><p><code>county &lt;chr&gt;</code> is used to group and summarize
samples from the same county as the producer. Can be blank.</p></li>
<li><p><code>crop &lt;chr&gt;</code> is used to group and summarize
samples from the same crop as the producer. Can be blank.</p></li>
<li><p><strong><code>longitude &lt;int&gt;</code></strong> and
<strong><code>latitude &lt;int&gt;</code></strong> are used to map each
sample point using the <a href="https://rstudio.github.io/leaflet/index.html" class="external-link">{leaflet}</a>
package. Coordinates must be in decimal degrees using WGS 84 (aka
EPSG:4326).</p></li>
<li><p><strong><code>texture &lt;chr&gt;</code></strong> is used in the
“physical” measurement group table. This column is not used in the
texture triangle plot, which is instead created from percentage sand,
silt, and clay measurement results.</p></li>
<li>
<p><strong>Each soil measurement</strong> must have its own column
in the dataset and a corresponding row in the data dictionary, as shown
in <a href="#dictionary-template">Dictionary template</a>.</p>
<ul>
<li>Measurement columns come <strong>after</strong> the required columns
for easy selection in the <a href="#tidy-long-chunk"><code>tidy-long</code> chunk</a>.</li>
</ul>
</li>
</ul>
</div>
<div class="section level2">
<h2 id="dictionary-template">Dictionary template<a class="anchor" aria-label="anchor" href="#dictionary-template"></a>
</h2>
<p>The data dictionary is used to group and order soil measurements, and
to nicely format labels in tables and plots. The example
<code>data_dictionary</code> contains <a href="https://www.unicode.org/faq/utf_bom.html" class="external-link">UTF-8</a> encoded
superscripts, subscripts, and special characters.</p>
<p>To properly encode your data dictionary as UTF-8, save it to the
<code>data</code> folder as
<code>CSV UTF-8 (Comma delimited) (*.csv)</code> in MS Excel.</p>
<p><img src="../reference/figures/utf-8.png" fig-alt="Data dictionary is saved as CSV UTF-8 (Comma delimited) (*.csv) in MS Excel."></p>
<details closed><summary>
Glimpse at the example data dictionary
</summary><div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://pillar.r-lib.org/reference/glimpse.html" class="external-link">glimpse</a></span><span class="op">(</span><span class="va">data_dictionary</span><span class="op">)</span></span>
<span><span class="co">#&gt; Rows: 32</span></span>
<span><span class="co">#&gt; Columns: 7</span></span>
<span><span class="co">#&gt; $ measurement_group       <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "biological", "biological", "biological", "bio…</span></span>
<span><span class="co">#&gt; $ measurement_group_label <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "Biological", "Biological", "Biological", "Bio…</span></span>
<span><span class="co">#&gt; $ column_name             <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "om_percent", "min_c_96hr_mg_c_kg_day", "poxc_…</span></span>
<span><span class="co">#&gt; $ order                   <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> 1, 2, 3, 4, 5, 1, 2, 3, 4, 5, 6, 1, 2, 3, 4, 5…</span></span>
<span><span class="co">#&gt; $ abbr                    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "Organic Matter", "Min C", "POXC", "PMN", "ACE…</span></span>
<span><span class="co">#&gt; $ unit                    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "%", "mg/kg/day", "ppm", "lb/ac", "g/kg", "", …</span></span>
<span><span class="co">#&gt; $ abbr_unit               <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "Organic Matter&lt;br&gt;(%)", "Min C&lt;br&gt;(mg/kg/day)…</span></span></code></pre></div>
</details><p>Your data dictionary <strong>must have the below required
columns</strong> for every soil measurement included in your data.</p>
<ul>
<li><p><strong><code>measurement_group &lt;chr&gt;</code></strong>
determines how the soil measurements are grouped. The order in which
these groups appear is determined by the <a href="#set-groups-chunk"><code>set-groups</code> chunk</a>.</p></li>
<li><p><strong><code>measurement_group_label &lt;chr&gt;</code></strong>
is the section heading for each measurement group.</p></li>
<li><p><strong><code>order &lt;int&gt;</code></strong> determines the
sequence of soil measurements within a <code>measurement_group</code> in
tables and plots.</p></li>
<li><p><strong><code>column_name &lt;chr&gt;</code></strong> is used to
join the dictionary with your data. Must exactly match the column names
of the soil measurements in your dataset.</p></li>
<li><p><strong><code>abbr &lt;chr&gt;</code></strong> and
<strong><code>unit &lt;chr&gt;</code></strong> are how soil measurements
are labeled in tables with the abbreviation as the column header and
unit as a secondary spanning header.</p></li>
<li><p><strong><code>abbr_unit &lt;chr&gt;</code></strong> is how the
soil measurements are labeled in plots and uses an HTML tag to include a
line break between the abbreviation and unit.</p></li>
</ul>
</div>
<div class="section level2">
<h2 id="datadictionary-mismatches">Data/dictionary mismatches<a class="anchor" aria-label="anchor" href="#datadictionary-mismatches"></a>
</h2>
<p>Getting your data and dictionary in the proper format to render the
report without errors will likely be the most difficult part of making
{soils} work for your project.</p>
<p>The <a href="#data-validation-chunk"><code>data-validation</code>
chunk</a> and many {soils} functions include
<code><a href="https://testthat.r-lib.org/reference/expect_setequal.html" class="external-link">testthat::expect_contains()</a></code> to fail early if required
columns are missing from either the data or the dictionary. This early
failure saves time by stopping as soon as the missing column or
data/dictionary mismatch is identified. Additionally, these early failed
tests provide the <code>expected</code> versus <code>actual</code>
values, making it easier to correct the issue with minimal
debugging.</p>
<p>Below are some common issues that arise and possible workarounds.
These workarounds may make more sense after reviewing the <a href="#your-data">Your data</a> section that includes example errors and
fixes.</p>
<div class="section level3">
<h3 id="extra-columns-in-data">Extra columns in data<a class="anchor" aria-label="anchor" href="#extra-columns-in-data"></a>
</h3>
<p><strong>Soil measurements in your data but not in your
dictionary</strong> will cause the report to error in the
<code>data-validation</code> chunk. For example, rendering the report
will fail if your dataset contains both <code>pH</code> and
<code>CEC</code> results but your dictionary only contains
<code>pH</code>. Either add the <code>CEC</code> measurement to your
dictionary or remove this measurement column from your data. If you
don’t want to delete the column from your datasheet, you can remove it
from only the data object with
<code>data &lt;- dplyr::select(data, -cec_meq_100g)</code> perhaps in
the <code>load-data</code> chunk.</p>
<p><strong>Additional metadata columns in your data</strong> will also
cause the report to error in the <code>data-validation</code> chunk. For
example, if you have a column <code>phone_number</code> with producer
phone numbers that won’t be used in the report, remove it from the data
with the
<code>data &lt;- dplyr::select(data, -c(cec_meq_100g, phone_number))</code>.
If you want to use this column in the report, then add it to the
<code>required_cols</code> vector of the <a href="#data-validation-chunk"><code>data-validation</code> chunk</a> so
that the <code>testthat</code> function doesn’t error.</p>
</div>
<div class="section level3">
<h3 id="extra-rows-in-dictionary">Extra rows in dictionary<a class="anchor" aria-label="anchor" href="#extra-rows-in-dictionary"></a>
</h3>
<p><strong>Soil measurements in your dictionary but not in your
data</strong> will not error and will not affect the report. For
example, the report will simply show the <code>pH</code> results if your
dictionary contains both <code>pH</code> and <code>CEC</code> but your
data only contains <code>pH</code> results.</p>
</div>
</div>
<div class="section level2">
<h2 id="your-data">Your data<a class="anchor" aria-label="anchor" href="#your-data"></a>
</h2>
<p>Once your project data and dictionary files match the structure of
the examples and are saved in the <code>data</code> folder, follow along
with the changes in the code chunks in
<code>01_producer-report.qmd</code>. Code you will need to change are
marked with the text “<code>EDIT:</code>”. Find all edit markers in the
RStudio project with <code>Ctrl</code> + <code>Shift</code> +
<code>F</code> to open the <code>Find in Files</code> wizard.</p>
<p>Below changes are for demonstration purposes only, the actual changes
should be based on <strong>your</strong> data and dictionary.</p>
<div class="section level3">
<h3 id="load-data-chunk">
<code>load-data</code> chunk<a class="anchor" aria-label="anchor" href="#load-data-chunk"></a>
</h3>
<p>Replace <code>washi-data.csv</code> with the name of your data file
(<code>my-data.csv</code>).</p>
<details closed><summary>
Example changed chunk
</summary><div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># EDIT: Add your cleaned lab data to the data folder, using 'washi-data.csv' as</span></span>
<span><span class="co"># a template.</span></span>
<span></span>
<span><span class="co"># Load lab results</span></span>
<span><span class="va">data</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/utils/read.table.html" class="external-link">read.csv</a></span><span class="op">(</span></span>
<span>  <span class="fu">here</span><span class="fu">::</span><span class="fu"><a href="https://here.r-lib.org//reference/here.html" class="external-link">here</a></span><span class="op">(</span><span class="st">"data/my-data.csv"</span><span class="op">)</span>,</span>
<span>  check.names <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  encoding <span class="op">=</span> <span class="st">"UTF-8"</span></span>
<span><span class="op">)</span></span></code></pre></div>
</details>
</div>
<div class="section level3">
<h3 id="load-dictionary-chunk">
<code>load-dictionary</code> chunk<a class="anchor" aria-label="anchor" href="#load-dictionary-chunk"></a>
</h3>
<p>Change <code>data-dictionary.csv</code> to the name of your
dictionary file (<code>my-dictionary.csv</code>). If using subscripts,
superscripts, or special characters, make sure your csv is saved with
UTF-8 encoding (see <a href="#dictionary-template">Dictionary
template</a> for how to do this).</p>
<details closed><summary>
Example changed chunk
</summary><div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># EDIT: Add your data dictionary to the data folder, using 'data-dictionary.csv'</span></span>
<span><span class="co"># as a template.</span></span>
<span></span>
<span><span class="co"># Load data dictionary</span></span>
<span><span class="va">dictionary</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/utils/read.table.html" class="external-link">read.csv</a></span><span class="op">(</span></span>
<span>  <span class="fu">here</span><span class="fu">::</span><span class="fu"><a href="https://here.r-lib.org//reference/here.html" class="external-link">here</a></span><span class="op">(</span><span class="st">"data/my-dictionary.csv"</span><span class="op">)</span>,</span>
<span>  check.names <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  <span class="co"># Set encoding for using subscripts, superscripts, special characters</span></span>
<span>  encoding <span class="op">=</span> <span class="st">"UTF-8"</span></span>
<span><span class="op">)</span></span></code></pre></div>
</details>
</div>
<div class="section level3">
<h3 id="set-groups-chunk">
<code>set-groups</code> chunk<a class="anchor" aria-label="anchor" href="#set-groups-chunk"></a>
</h3>
<p>Add or remove groups to the <code>measurement_groups</code> vector to
match your data dictionary and set the order of how they appear in the
results section of the report. <code>macro</code> and <code>micro</code>
were removed and <code>chemical</code> was moved before
<code>biological</code>.</p>
<details closed><summary>
Example changed chunk
</summary><div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># EDIT: Add, remove, or rearrange order of measurement groups to match your data</span></span>
<span><span class="co"># dictionary.</span></span>
<span></span>
<span><span class="va">measurement_groups</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span>
<span>  <span class="st">"physical"</span>,</span>
<span>  <span class="st">"chemical"</span>,</span>
<span>  <span class="st">"biological"</span></span>
<span><span class="op">)</span></span></code></pre></div>
</details>
</div>
<div class="section level3">
<h3 id="tidy-long-chunk">
<code>tidy-long</code> chunk<a class="anchor" aria-label="anchor" href="#tidy-long-chunk"></a>
</h3>
<p>Replace the column range of the soil measurements from the example
<code>washi-data.csv</code> (<code>12:42</code>) with the column range
of the soil measurements in your data (<code>12:26</code>). This chunk
<a href="https://vita.had.co.nz/papers/tidy-data.pdf" class="external-link">tidies the
data</a> from wide to long for summarization and visualization.</p>
<details closed><summary>
Example changed chunk
</summary><div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># EDIT: `washi_data` example has soil measurements in columns 12 - 42. Replace</span></span>
<span><span class="co"># this column range with the column indices of the soil measurements in your</span></span>
<span><span class="co"># dataset.</span></span>
<span></span>
<span><span class="co"># Tidy data into long format and join with data dictionary</span></span>
<span><span class="va">results_long</span> <span class="op">&lt;-</span> <span class="va">data</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span></span>
<span>    <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/across.html" class="external-link">across</a></span><span class="op">(</span></span>
<span>      <span class="co"># EDIT: replace with the column range of your soil measurements</span></span>
<span>      <span class="fl">12</span><span class="op">:</span><span class="fl">26</span>,</span>
<span>      <span class="va">as.numeric</span></span>
<span>    <span class="op">)</span></span>
<span>  <span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu">tidyr</span><span class="fu">::</span><span class="fu"><a href="https://tidyr.tidyverse.org/reference/pivot_longer.html" class="external-link">pivot_longer</a></span><span class="op">(</span></span>
<span>    <span class="co"># EDIT: replace with the column range of your soil measurements</span></span>
<span>    cols <span class="op">=</span> <span class="fl">12</span><span class="op">:</span><span class="fl">26</span>,</span>
<span>    names_to <span class="op">=</span> <span class="st">"measurement"</span></span>
<span>  <span class="op">)</span></span></code></pre></div>
</details>
</div>
<div class="section level3">
<h3 id="data-validation-chunk">
<code>data-validation</code> chunk<a class="anchor" aria-label="anchor" href="#data-validation-chunk"></a>
</h3>
<p>This chunk checks there are no mismatches as described in <a href="#datadictionary-mismatches">Data/dictionary mismatches</a> by
making sure all column names in your dataset are in either the
<code>required_cols</code> vector or the <code>column_name</code> column
of <code>my-dictionary.csv</code>.</p>
<p>In this example, add an extra column named <code>tillage</code> in
<code>my-data.csv</code> without changing the dictionary.</p>
<p>After clicking the <code>Render</code> button, the report failed.</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" tabindex="-1"></a>Quitting from lines <span class="dv">94-115</span> [data<span class="sc">-</span>validation] (<span class="dv">01</span>_producer<span class="sc">-</span>report.qmd)</span>
<span id="cb9-2"><a href="#cb9-2" tabindex="-1"></a>Error<span class="sc">:</span></span>
<span id="cb9-3"><a href="#cb9-3" tabindex="-1"></a><span class="sc">!</span> <span class="fu">names</span>(data) (<span class="st">`</span><span class="at">actual</span><span class="st">`</span>) isn<span class="st">'t fully contained within c(required_cols, dictionary$column_name) (`expected`).</span></span>
<span id="cb9-4"><a href="#cb9-4" tabindex="-1"></a><span class="st">* Missing from `expected`: "tillage"</span></span>
<span id="cb9-5"><a href="#cb9-5" tabindex="-1"></a><span class="st">* Present in `expected`:   "year", "sample_id", "farm_name", "producer_id", "field_name", "field_id", "county", "crop", "longitude", ...</span></span></code></pre></div>
<p>This error message says the error occurred in lines 94-115 in the
<code>data-validation</code> chunk because <code>tillage</code> was
missing from the <code>expected</code> values, which are elements of
<code>required_cols</code> and <code>dictionary$column_name</code>.</p>
<p>Adding <code>"tillage"</code> to <code>required_cols</code> prevents
this error.</p>
<details closed><summary>
Example changed chunk
</summary><div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># OPTIONAL EDIT: If you have extra columns in `data`, add them to this vector.</span></span>
<span><span class="va">required_cols</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span>
<span>  <span class="st">"year"</span>,</span>
<span>  <span class="st">"sample_id"</span>,</span>
<span>  <span class="st">"farm_name"</span>,</span>
<span>  <span class="st">"producer_id"</span>,</span>
<span>  <span class="st">"field_name"</span>,</span>
<span>  <span class="st">"field_id"</span>,</span>
<span>  <span class="st">"county"</span>,</span>
<span>  <span class="st">"crop"</span>,</span>
<span>  <span class="st">"longitude"</span>,</span>
<span>  <span class="st">"latitude"</span>,</span>
<span>  <span class="st">"texture"</span>,</span>
<span>  <span class="st">"tillage"</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Check all column names in `data` are in the `required_cols` vector or</span></span>
<span><span class="co"># `column_name` column of `dictionary`.</span></span>
<span><span class="fu">testthat</span><span class="fu">::</span><span class="fu"><a href="https://testthat.r-lib.org/reference/expect_setequal.html" class="external-link">expect_in</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">data</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">required_cols</span>, <span class="va">dictionary</span><span class="op">$</span><span class="va">column_name</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
</details><p>To demonstrate another data/dictionary mismatch error, remove
<code>cec_meq_100g</code> from the dictionary while keeping it in the
dataset.</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" tabindex="-1"></a>Quitting from lines <span class="dv">94-115</span> [data<span class="sc">-</span>validation] (<span class="dv">01</span>_producer<span class="sc">-</span>report.qmd)</span>
<span id="cb11-2"><a href="#cb11-2" tabindex="-1"></a>Error<span class="sc">:</span></span>
<span id="cb11-3"><a href="#cb11-3" tabindex="-1"></a><span class="sc">!</span> <span class="fu">names</span>(data) (<span class="st">`</span><span class="at">actual</span><span class="st">`</span>) isn<span class="st">'t fully contained within c(...) (`expected`).</span></span>
<span id="cb11-4"><a href="#cb11-4" tabindex="-1"></a><span class="st">* Missing from `expected`: "cec_meq_100g"</span></span>
<span id="cb11-5"><a href="#cb11-5" tabindex="-1"></a><span class="st">* Present in `expected`:   "year", "sample_id", "farm_name", "producer_id", "field_name", "field_id", "county", "crop", "texture", ...</span></span></code></pre></div>
<p>The error occurred because <code>cec_meq_100g</code> was missing from
the <code>expected</code> values. Either add <code>cec_meq_100g</code>
back to the dictionary or remove this column from the dataset to fix
this error.</p>
<p><strong>See the <a href="https://wa-department-of-agriculture.github.io/soils/articles/troubleshoot.html">troubleshooting
article</a> for more help on debugging errors.</strong></p>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Jadey N Ryan, Molly McIlquham, Kwabena A Sarpong, Leslie M Michel, Teal S Potter, Deirdre Griffin LaHue, Dani L Gelardi, Washington State Department of Agriculture.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.9000.</p>
</div>

    </footer>
</div>





  </body>
</html>
